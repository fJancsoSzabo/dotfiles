#!/usr/bin/env bash
#
# Installs dotfiles, does a lot of config stuff.

set -e

source install/helpers

files=$(find . -name bootstrap.sh)

for i in "${files[@]}"; do
	$i
done

install_dotfiles() {
	info 'installing dotfiles'

	for src in $(find "${DOTFILES_ROOT}" -name '*.symlink' -not -path '*.git*'); do
		dst="${HOME}/.$(basename ${src%.*})"
		lnx "${src}" "${dst}"
	done
}

git/config.sh

install_dotfiles

if [[ "$(uname)" = "Darwin" ]]; then
	:
# 	source macos/homebrew.sh
fi

info "finished bootstrapping"

